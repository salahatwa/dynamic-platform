import{b as m}from"./chunk-QRIHUA6I.js";import{Q as l,V as d,d as c,k as h}from"./chunk-KOA5EEQG.js";var g=(()=>{class n{constructor(e){this.http=e,this.themeConfig=null,this.currentTheme=new h("modern-saas"),this.currentMode=new h("light"),this.loadThemeConfig(),this.initializeTheme()}loadThemeConfig(){return c(this,null,function*(){try{let e=yield this.http.get("/assets/config/theme-settings.json").toPromise();this.themeConfig=e||null,this.themeConfig&&(this.currentTheme.next(this.themeConfig.activeTheme),this.currentMode.next(this.themeConfig.defaultMode),this.applyTheme(this.themeConfig.activeTheme,this.themeConfig.defaultMode))}catch(e){console.error("Failed to load theme configuration:",e),this.applyDefaultTheme()}})}initializeTheme(){let e=localStorage.getItem("selected-theme"),s=localStorage.getItem("theme-mode");if(e&&s)this.currentTheme.next(e),this.currentMode.next(s),this.applyTheme(e,s);else{let r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this.currentMode.next(r)}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{if(!localStorage.getItem("theme-mode")){let r=i.matches?"dark":"light";this.currentMode.next(r),this.applyTheme(this.currentTheme.value,r)}})}setTheme(e){this.themeConfig&&this.themeConfig.themes[e]&&(this.currentTheme.next(e),localStorage.setItem("selected-theme",e),this.applyTheme(e,this.currentMode.value))}setMode(e){this.currentMode.next(e),localStorage.setItem("theme-mode",e),this.applyTheme(this.currentTheme.value,e)}toggleMode(){let e=this.currentMode.value==="light"?"dark":"light";this.setMode(e)}applyTheme(e,s){if(!this.themeConfig||!this.themeConfig.themes[e])return;let r=this.themeConfig.themes[e].colors,o=r[s],t=document.documentElement;t.style.setProperty("--primary",r.primary),t.style.setProperty("--primary-hover",r.primaryHover),t.style.setProperty("--secondary",r.secondary),t.style.setProperty("--success",r.success),t.style.setProperty("--danger",r.danger),t.style.setProperty("--warning",r.warning),t.style.setProperty("--accent",r.accent),t.style.setProperty("--background",o.background),t.style.setProperty("--surface",o.surface),t.style.setProperty("--surface-hover",o.surfaceHover),t.style.setProperty("--surface-elevated",o.surfaceElevated),t.style.setProperty("--border",o.border),t.style.setProperty("--border-light",o.borderLight),t.style.setProperty("--border-focus",o.borderFocus),t.style.setProperty("--text",o.text),t.style.setProperty("--text-secondary",o.textSecondary),t.style.setProperty("--text-muted",o.textMuted),t.style.setProperty("--text-inverse",o.textInverse),t.setAttribute("data-theme",s),t.setAttribute("data-theme-name",e);let a=s==="dark"?"0, 0, 0":this.hexToRgb(o.text);t.style.setProperty("--shadow",`0 1px 3px 0 rgba(${a}, 0.1)`),t.style.setProperty("--shadow-md",`0 4px 6px -1px rgba(${a}, 0.1)`),t.style.setProperty("--shadow-lg",`0 10px 15px -3px rgba(${a}, 0.1)`)}applyDefaultTheme(){let e=document.documentElement;e.style.setProperty("--primary","#6C63FF"),e.style.setProperty("--primary-hover","#5A52E6"),e.style.setProperty("--background","#E9F1FA"),e.style.setProperty("--surface","#ffffff"),e.style.setProperty("--text","#0A2540")}hexToRgb(e){let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(s){let i=parseInt(s[1],16),r=parseInt(s[2],16),o=parseInt(s[3],16);return`${i}, ${r}, ${o}`}return"0, 0, 0"}get currentTheme$(){return this.currentTheme.asObservable()}get currentMode$(){return this.currentMode.asObservable()}get availableThemes(){return this.themeConfig?.themes||null}getCurrentTheme(){return this.currentTheme.value}getCurrentMode(){return this.currentMode.value}get isDarkMode(){return this.currentMode.value==="dark"}get isLightMode(){return this.currentMode.value==="light"}static{this.\u0275fac=function(s){return new(s||n)(d(m))}}static{this.\u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{g as a};
