import{b as w}from"./chunk-PEIDCZCY.js";import{b as O}from"./chunk-4CTQDGJF.js";import{a as S}from"./chunk-NAK5AQJJ.js";import"./chunk-5CKBWUIT.js";import{b as P}from"./chunk-QRIHUA6I.js";import{Jb as y,Ka as r,Lb as d,Mb as p,Q as b,Sa as h,W as c,Ya as g,Z as u,cb as f,d as x,hb as a,ib as i,ic as M,jb as C,mb as _,wb as o,xb as s}from"./chunk-KOA5EEQG.js";var D=(()=>{class e{constructor(){this.http=c(P),this.apiUrl=`${S.apiUrl}/dashboard`}getStats(t){let n=t?`${this.apiUrl}/stats?appId=${t}`:`${this.apiUrl}/stats`;return this.http.get(n)}getRecentActivity(t,n=10){let l={size:n};return t&&(l.appId=t),this.http.get(`${this.apiUrl}/activity`,{params:l})}getAuditLogs(t,n=0,l=20){let v={page:n,size:l};return t&&(v.appId=t),this.http.get(`${this.apiUrl}/audit-logs`,{params:v})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function I(e,m){e&1&&(a(0,"div",6),C(1,"div",7),i())}function U(e,m){if(e&1&&(a(0,"div",9)(1,"div",10)(2,"h3"),o(3),d(4,"translate"),i()(),a(5,"p",11),o(6),i()(),a(7,"div",9)(8,"div",10)(9,"h3"),o(10),d(11,"translate"),i()(),a(12,"p",11),o(13),i()(),a(14,"div",9)(15,"div",10)(16,"h3"),o(17),d(18,"translate"),i()(),a(19,"p",11),o(20),i()(),a(21,"div",9)(22,"div",10)(23,"h3"),o(24),d(25,"translate"),i()(),a(26,"p",11),o(27),i()()),e&2){let t=m;r(3),s(p(4,8,"dashboard.stats.templates")),r(3),s(t.templates.total||0),r(4),s(p(11,10,"dashboard.stats.totalApps")),r(3),s(t.totalApps),r(4),s(p(18,12,"dashboard.stats.totalUsers")),r(3),s(t.totalUsers),r(4),s(p(25,14,"dashboard.stats.totalApiKeys")),r(3),s(t.totalApiKeys)}}function A(e,m){if(e&1&&(a(0,"div",8),g(1,U,28,16),i()),e&2){let t,n=_();r(),f(1,(t=n.stats())?1:-1,t)}}var H=(()=>{class e{constructor(){this.dashboardService=c(D),this.appContextService=c(w),this.isLoading=h(!1),this.stats=h(null)}ngOnInit(){this.loadDashboardData()}loadDashboardData(){return x(this,null,function*(){this.isLoading.set(!0);try{let t=yield this.dashboardService.getStats().toPromise();this.stats.set(t||null)}catch(t){console.error("Error loading dashboard data:",t)}finally{this.isLoading.set(!1)}})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[y],decls:12,vars:7,consts:[[1,"dashboard-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"dashboard-content"],[1,"loading-container"],[1,"spinner"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-header"],[1,"stat-value"]],template:function(n,l){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4),d(5,"translate"),i(),a(6,"p",4),o(7),d(8,"translate"),i()()(),a(9,"div",5),g(10,I,2,0,"div",6)(11,A,2,1),i()()),n&2&&(r(4),s(p(5,3,"dashboard.title")),r(3),s(p(8,5,"dashboard.subtitle")),r(3),f(10,l.isLoading()?10:11))},dependencies:[M,O],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:600}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary)}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:none;border-radius:.5rem;font-weight:500;text-decoration:none;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:var(--shadow-primary)}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 15px 35px -5px #6366f166}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem}.stat-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;box-shadow:var(--shadow);transition:var(--transition)}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-lg);transform:translateY(-3px)}.stat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.95rem;font-weight:600;color:var(--text-secondary)}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-top:.5rem;color:var(--text)}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border);border-top:3px solid var(--primary);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return e})();export{H as DashboardComponent};
